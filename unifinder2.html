<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UniFinder Malaysia - Enhanced Version</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
            min-height: 100vh;
            padding-bottom: 40px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 40px 0;
            color: white;
        }
        
        header h1 {
            font-size: 3rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        header p {
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
            opacity: 0.9;
        }
        
        /* New UniHelper Section - Moved to bottom */
        .unipartner-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            margin-top: 40px;
            border: 1px solid rgba(30, 60, 114, 0.2);
        }
        
        .unipartner-section h2 {
            color: #1e3c72;
            margin-bottom: 20px;
            font-size: 1.8rem;
        }
        
        .unipartner-section p {
            max-width: 800px;
            margin: 0 auto 25px;
            line-height: 1.6;
            color: #495057;
        }
        
        .app-container {
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
            overflow: hidden;
        }
        
        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .tab {
            padding: 15px 25px;
            cursor: pointer;
            font-weight: 600;
            color: #6c757d;
            transition: all 0.3s;
            text-align: center;
            flex: 1;
        }
        
        .tab.active {
            color: #1e3c72;
            border-bottom: 3px solid #1e3c72;
            background: rgba(30, 60, 114, 0.05);
        }
        
        .tab:hover:not(.active) {
            background: rgba(30, 60, 114, 0.1);
        }
        
        .tab-content {
            padding: 30px;
        }
        
        .tab-pane {
            display: none;
        }
        
        .tab-pane.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        h2 {
            color: #1e3c72;
            margin-bottom: 20px;
            font-size: 1.8rem;
            text-align: center;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #495057;
        }
        
        input, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #ced4da;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }
        
        input:focus, select:focus {
            outline: none;
            border-color: #1e3c72;
            box-shadow: 0 0 0 3px rgba(30, 60, 114, 0.2);
        }
        
        .range-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .range-value {
            min-width: 40px;
            text-align: center;
            font-weight: 600;
            color: #1e3c72;
        }
        
        .checkbox-group {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 10px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .checkbox-item input {
            width: auto;
        }
        
        .btn {
            background: #1e3c72;
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-block;
        }
        
        .btn:hover {
            background: #2a5298;
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(30, 60, 114, 0.3);
        }
        
        .btn-next {
            float: right;
        }
        
        .btn-prev {
            background: #6c757d;
        }
        
        .btn-prev:hover {
            background: #5a6268;
        }
        
        .btn-save {
            background: #28a745;
            margin-left: 10px;
        }
        
        .btn-save:hover {
            background: #218838;
        }
        
        .btn-saved {
            background: #6c757d;
            cursor: default;
        }
        
        .btn-saved:hover {
            background: #6c757d;
            transform: none;
            box-shadow: none;
        }
        
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .university-card {
            border: 1px solid #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
            position: relative;
        }
        
        .university-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .university-img {
            height: 160px;
            background: linear-gradient(to right, #3494E6, #EC6EAD);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: 700;
        }
        
        .university-content {
            padding: 20px;
            text-align: center;
        }
        
        .university-content h3 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.4rem;
        }
        
        .university-detail {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }
        
        .university-detail span:first-child {
            font-weight: 600;
            color: #495057;
        }
        
        .university-detail span:last-child {
            color: #6c757d;
        }
        
        .match-score {
            display: inline-block;
            padding: 5px 10px;
            background: #1e3c72;
            color: white;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .progress-bar {
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: #1e3c72;
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .spm-subjects {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        
        .spm-subject {
            display: flex;
            flex-direction: column;
        }
        
        .subject-name {
            font-weight: 600;
            margin-bottom: 5px;
            color: #495057;
        }
        
        .info-tooltip {
            display: inline-block;
            margin-left: 5px;
            color: #6c757d;
            cursor: help;
        }
        
        .subject-selector {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .preference-section {
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .preference-section h3 {
            color: #1e3c72;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            overflow-y: auto;
        }
        
        .modal-content {
            background-color: white;
            margin: 5% auto;
            padding: 30px;
            border-radius: 15px;
            width: 80%;
            max-width: 800px;
            position: relative;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 20px;
            font-size: 28px;
            font-weight: bold;
            color: #aaa;
            cursor: pointer;
        }
        
        .close-modal:hover {
            color: #000;
        }
        
        .modal-header {
            text-align: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eaeaea;
        }
        
        .modal-body {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        .modal-detail {
            margin-bottom: 15px;
        }
        
        .modal-detail label {
            font-weight: 600;
            color: #495057;
            display: block;
            margin-bottom: 5px;
        }
        
        .modal-detail span {
            color: #6c757d;
        }
        
        .modal-description {
            grid-column: 1 / -1;
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid #eaeaea;
        }
        
        .modal-website-link {
            color: #1e3c72;
            text-decoration: underline;
        }
        
        .social-media {
            display: flex;
            gap: 10px;
            margin-top: 5px;
        }
        
        .social-icon {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #1e3c72;
            font-size: 16px;
            transition: all 0.3s;
        }
        
        .social-icon:hover {
            background: #1e3c72;
            color: white;
            transform: translateY(-2px);
        }
        
        .professor-list {
            margin-top: 10px;
        }
        
        .professor-item {
            padding: 10px;
            border: 1px solid #eaeaea;
            border-radius: 8px;
            margin-bottom: 10px;
        }
        
        .professor-name {
            font-weight: 600;
            color: #1e3c72;
        }
        
        .professor-field {
            color: #6c757d;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .achievement-list {
            list-style-type: disc;
            padding-left: 20px;
            margin-top: 5px;
        }
        
        .achievement-item {
            margin-bottom: 5px;
        }
        
        /* Saved Universities Tab */
        .saved-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .compare-container {
            margin-top: 30px;
            display: none;
        }
        
        .compare-header {
            text-align: center;
            margin-bottom: 20px;
        }
        
        .compare-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .compare-table th, .compare-table td {
            padding: 12px 15px;
            text-align: left;
            border: 1px solid #eaeaea;
        }
        
        .compare-table th {
            background-color: #f8f9fa;
            font-weight: 600;
            color: #1e3c72;
        }
        
        .compare-table tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .compare-options {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .compare-checkbox {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 15px;
            border: 1px solid #eaeaea;
            border-radius: 8px;
            background: #f9f9f9;
        }
        
        .show-more-container {
            text-align: center;
            margin-top: 30px;
            grid-column: 1 / -1;
        }
        
        @media (max-width: 768px) {
            .tabs {
                flex-direction: column;
            }
            
            .results-container, .saved-container {
                grid-template-columns: 1fr;
            }
            
            header h1 {
                font-size: 2.2rem;
            }
            
            .checkbox-group, .spm-subjects {
                grid-template-columns: 1fr;
            }
            
            .subject-selector {
                flex-direction: column;
            }
            
            .modal-body {
                grid-template-columns: 1fr;
            }
            
            .modal-content {
                width: 95%;
                margin: 10% auto;
                padding: 20px;
            }
            
            .compare-options {
                flex-direction: column;
            }
            
            .unipartner-section {
                padding: 20px;
            }
            
            .unipartner-section h2 {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>UniFinder</h1>
            <p>Find your ideal university pathway based on your SPM and MUET results</p>
        </header>
        
        <div class="app-container">
            <div class="tabs">
                <div class="tab active" data-tab="personal">Personal Info</div>
                <div class="tab" data-tab="spm">SPM & MUET Results</div>
                <div class="tab" data-tab="preferences">Preferences</div>
                <div class="tab" data-tab="results">University Matches</div>
                <div class="tab" data-tab="saved">Saved Universities</div>
            </div>
            
            <div class="tab-content">
                <!-- Personal Info Tab -->
                <div class="tab-pane active" id="personal">
                    <h2>Personal Information</h2>
                    <div class="form-group">
                        <label for="name">Full Name</label>
                        <input type="text" id="name" placeholder="Enter your full name">
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email Address</label>
                        <input type="email" id="email" placeholder="Enter your email">
                    </div>
                    
                    <div class="form-group">
                        <label for="state">State in Malaysia</label>
                        <select id="state">
                            <option value="">Select your state</option>
                            <option value="johor">Johor</option>
                            <option value="kedah">Kedah</option>
                            <option value="kelantan">Kelantan</option>
                            <option value="kl">Kuala Lumpur</option>
                            <option value="melaka">Melaka</option>
                            <option value="ns">Negeri Sembilan</option>
                            <option value="pahang">Pahang</option>
                            <option value="penang">Penang</option>
                            <option value="perak">Perak</option>
                            <option value="perlis">Perlis</option>
                            <option value="sabah">Sabah</option>
                            <option value="sarawak">Sarawak</option>
                            <option value="selangor">Selangor</option>
                            <option value="terengganu">Terengganu</option>
                        </select>
                    </div>
                    
                    <div class="navigation">
                        <div></div>
                        <button class="btn btn-next" data-next="spm">Next <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- SPM Results Tab (now includes MUET) -->
                <div class="tab-pane" id="spm">
                    <h2>SPM & MUET Results</h2>
                    <p>Enter your SPM results for each subject. Select grade for each subject you took.</p>
                    
                    <div class="spm-subjects" id="spm-subjects-container">
                        <div class="spm-subject">
                            <span class="subject-name">Bahasa Melayu</span>
                            <select class="spm-grade">
                                <option value="">Select grade</option>
                                <option value="A+">A+</option>
                                <option value="A">A</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B">B</option>
                                <option value="C+">C+</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="G">G</option>
                            </select>
                        </div>
                        
                        <div class="spm-subject">
                            <span class="subject-name">English</span>
                            <select class="spm-grade">
                                <option value="">Select grade</option>
                                <option value="A+">A+</option>
                                <option value="A">A</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B">B</option>
                                <option value="C+">C+</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="G">G</option>
                            </select>
                        </div>
                        
                        <div class="spm-subject">
                            <span class="subject-name">Mathematics</span>
                            <select class="spm-grade">
                                <option value="">Select grade</option>
                                <option value="A+">A+</option>
                                <option value="A">A</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B">B</option>
                                <option value="C+">C+</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="G">G</option>
                            </select>
                        </div>
                        
                        <div class="spm-subject">
                            <span class="subject-name">Science</span>
                            <select class="spm-grade">
                                <option value="">Select grade</option>
                                <option value="A+">A+</option>
                                <option value="A">A</option>
                                <option value="A-">A-</option>
                                <option value="B+">B+</option>
                                <option value="B">B</option>
                                <option value="C+">C+</option>
                                <option value="C">C</option>
                                <option value="D">D</option>
                                <option value="E">E</option>
                                <option value="G">G</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="subject-selector">
                        <select id="additional-subjects">
                            <option value="">Select additional subject</option>
                            <option value="addmath">Additional Mathematics</option>
                            <option value="physics">Physics</option>
                            <option value="chemistry">Chemistry</option>
                            <option value="biology">Biology</option>
                            <option value="accounting">Principles of Accounting</option>
                            <option value="economics">Economics</option>
                            <option value="business">Business Studies</option>
                            <option value="geography">Geography</option>
                            <option value="art">Art</option>
                            <option value="it">Information Technology</option>
                        </select>
                        <button class="btn" id="add-subject"><i class="fas fa-plus"></i> Add Subject</button>
                    </div>
                    
                    <!-- MUET Section moved here -->
                    <div class="form-group" style="margin-top: 30px;">
                        <label for="muet">MUET Band Score</label>
                        <select id="muet">
                            <option value="">Select your MUET band</option>
                            <option value="1">Band 1</option>
                            <option value="2">Band 2</option>
                            <option value="3">Band 3</option>
                            <option value="4">Band 4</option>
                            <option value="5">Band 5</option>
                            <option value="6">Band 6</option>
                        </select>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-prev" data-prev="personal"><i class="fas fa-arrow-left"></i> Previous</button>
                        <button class="btn btn-next" data-next="preferences">Next <i class="fas fa-arrow-right"></i></button>
                    </div>
                </div>
                
                <!-- Preferences Tab (replaces MUET & Preferences) -->
                <div class="tab-pane" id="preferences">
                    <h2>Preferences</h2>
                    
                    <div class="form-group">
                        <label for="field">Preferred Field of Study</label>
                        <select id="field">
                            <option value="">Select your preferred field</option>
                            <option value="medicine">Medicine & Health Sciences</option>
                            <option value="engineering">Engineering & Technology</option>
                            <option value="business">Business & Accounting</option>
                            <option value="computing">Computing & IT</option>
                            <option value="law">Law & Legal Studies</option>
                            <option value="arts">Arts & Social Sciences</option>
                            <option value="science">Pure Sciences</option>
                            <option value="education">Education & Teaching</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="budget">Annual Budget (MYR)</label>
                        <div class="range-container">
                            <input type="range" id="budget" min="5000" max="100000" step="5000" value="25000">
                            <span class="range-value" id="budget-value">MYR 25,000</span>
                        </div>
                    </div>
                    
                    <!-- New Preference Sections -->
                    <div class="preference-section">
                        <h3>Academic Fit</h3>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="theory-focused" name="academic-fit">
                                <label for="theory-focused">Theory-focused learning</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="practical-focused" name="academic-fit">
                                <label for="practical-focused">Practical project-based learning</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="research-heavy" name="academic-fit">
                                <label for="research-heavy">Research-heavy environment</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="flexible-electives" name="academic-fit">
                                <label for="flexible-electives">Flexible electives / double majors</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="teaching-support" name="academic-fit">
                                <label for="teaching-support">Strong teaching support</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="preference-section">
                        <h3>Location</h3>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="urban-city" name="location">
                                <label for="urban-city">Urban city (busy, connected)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="suburban" name="location">
                                <label for="suburban">Suburban (balance of city + calm)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="rural" name="location">
                                <label for="rural">Rural / quiet environment</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="warm-climate" name="location">
                                <label for="warm-climate">Warm climate</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="cool-climate" name="location">
                                <label for="cool-climate">Cooler climate</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="close-to-home" name="location">
                                <label for="close-to-home">Close to home</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="abroad" name="location">
                                <label for="abroad">Abroad / international</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="preference-section">
                        <h3>Cost & Funding</h3>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="low-tuition" name="cost">
                                <label for="low-tuition">Low tuition fees</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="medium-tuition" name="cost">
                                <label for="medium-tuition">Medium tuition, with scholarships</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="high-tuition" name="cost">
                                <label for="high-tuition">High tuition but strong ROI (return on investment)</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="financial-aid" name="cost">
                                <label for="financial-aid">Generous financial aid packages</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="affordable-living" name="cost">
                                <label for="affordable-living">Affordable living costs</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="preference-section">
                        <h3>Campus Life</h3>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="clubs-societies" name="campus">
                                <label for="clubs-societies">Active clubs & societies</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="sports" name="campus">
                                <label for="sports">Sports facilities & teams</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="international-community" name="campus">
                                <label for="international-community">Diverse international community</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="student-support" name="campus">
                                <label for="student-support">Strong student support services</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="on-campus-housing" name="campus">
                                <label for="on-campus-housing">On-campus housing</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="study-focused" name="campus">
                                <label for="study-focused">Quiet / study-focused environment</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="preference-section">
                        <h3>Reputation</h3>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="top-100" name="reputation">
                                <label for="top-100">Globally ranked top 100</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="regionally-respected" name="reputation">
                                <label for="regionally-respected">Regionally respected</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="specific-major" name="reputation">
                                <label for="specific-major">Known for a specific subject/major</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="prestigious-alumni" name="reputation">
                                <label for="prestigious-alumni">Prestigious alumni network</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="industry-connections" name="reputation">
                                <label for="industry-connections">Industry connections</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="preference-section">
                        <h3>Career Outcomes</h3>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <input type="checkbox" id="internship-pipelines" name="career">
                                <label for="internship-pipelines">Strong internship pipelines</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="high-employability" name="career">
                                <label for="high-employability">High graduate employability rate</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="global-companies" name="career">
                                <label for="global-companies">Connections with global companies</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="startup-support" name="career">
                                <label for="startup-support">Entrepreneurial/startup support</label>
                            </div>
                            <div class="checkbox-item">
                                <input type="checkbox" id="research-career" name="career">
                                <label for="research-career">Research-to-career pathways</label>
                            </div>
                        </div>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-prev" data-prev="spm"><i class="fas fa-arrow-left"></i> Previous</button>
                        <button class="btn btn-next" data-next="results">Find Universities <i class="fas fa-graduation-cap"></i></button>
                    </div>
                </div>
                
                <!-- Results Tab -->
                <div class="tab-pane" id="results">
                    <h2>Recommended Universities</h2>
                    <p>Based on your profile, here are the best university matches for you:</p>
                    
                    <div class="progress-bar">
                        <div class="progress" id="results-progress"></div>
                    </div>
                    
                    <div class="results-container">
                        <!-- University cards will be generated here -->
                    </div>
                    
                    <div class="show-more-container" id="show-more-container" style="display: none;">
                        <button class="btn" id="show-more-btn"><i class="fas fa-chevron-down"></i> Show More Universities</button>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-prev" data-prev="preferences"><i class="fas fa-arrow-left"></i> Previous</button>
                        <button class="btn" id="save-results"><i class="fas fa-download"></i> Save All Results</button>
                    </div>
                </div>
                
                <!-- Saved Universities Tab -->
                <div class="tab-pane" id="saved">
                    <h2>Saved Universities</h2>
                    <p>Compare your saved universities or remove ones you're no longer interested in.</p>
                    
                    <div class="saved-container">
                        <!-- Saved university cards will be generated here -->
                    </div>
                    
                    <div class="compare-options" id="compare-options">
                        <!-- Checkboxes for comparison will be generated here -->
                    </div>
                    
                    <div class="compare-container" id="compare-container">
                        <div class="compare-header">
                            <h3>University Comparison</h3>
                        </div>
                        <table class="compare-table">
                            <thead>
                                <tr>
                                    <th>Criteria</th>
                                    <!-- University names will be added here -->
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Comparison data will be added here -->
                            </tbody>
                        </table>
                    </div>
                    
                    <div class="navigation">
                        <button class="btn btn-prev" data-prev="results"><i class="fas fa-arrow-left"></i> Previous</button>
                        <button class="btn" id="compare-btn" disabled><i class="fas fa-balance-scale"></i> Compare Selected</button>
                        <button class="btn" id="clear-saved"><i class="fas fa-trash"></i> Clear All Saved</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Moved UniHelper Section to bottom -->
        <div class="unipartner-section">
            <h2>UniHelper - Your Complete University Assistant</h2>
            <p>UniHelper is a complete platform that guides you through every stage of your university journey. From finding the right university and program, to offering helpful guides, checklists, and resources, UniHelper makes sure you're prepared, organized, and supported throughout your studies.</p>
            <a href="index.html" class="btn">Explore UniHelper <i class="fas fa-external-link-alt"></i></a>
        </div>
    </div>

    <!-- University Detail Modal -->
    <div id="university-modal" class="modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <div class="modal-header">
                <h2 id="modal-university-name"></h2>
                <div class="match-score" id="modal-match-score"></div>
            </div>
            <div class="modal-body">
                <div class="modal-detail">
                    <label>Location:</label>
                    <span id="modal-location"></span>
                </div>
                <div class="modal-detail">
                    <label>Type:</label>
                    <span id="modal-type"></span>
                </div>
                <div class="modal-detail">
                    <label>Programs:</label>
                    <span id="modal-programs"></span>
                </div>
                <div class="modal-detail">
                    <label>Contact:</label>
                    <span id="modal-contact"></span>
                </div>
                <div class="modal-detail">
                    <label>Email:</label>
                    <span id="modal-email"></span>
                </div>
                <div class="modal-detail">
                    <label>Social Media:</label>
                    <div class="social-media" id="modal-social"></div>
                </div>
                <div class="modal-detail">
                    <label>Requirements:</label>
                    <span id="modal-requirements"></span>
                </div>
                <div class="modal-detail">
                    <label>Annual Tuition:</label>
                    <span id="modal-tuition"></span>
                </div>
                <div class="modal-detail">
                    <label>Intake Periods:</label>
                    <span id="modal-intake"></span>
                </div>
                <div class="modal-detail">
                    <label>Application Deadline:</label>
                    <span id="modal-deadline"></span>
                </div>
                <div class="modal-detail">
                    <label>Website:</label>
                    <span id="modal-website"></span>
                </div>
                <div class="modal-detail">
                    <label>Notable Achievements:</label>
                    <ul class="achievement-list" id="modal-achievements"></ul>
                </div>
                <div class="modal-detail">
                    <label>Notable Faculty:</label>
                    <div class="professor-list" id="modal-professors"></div>
                </div>
                <div class="modal-description">
                    <label>Description:</label>
                    <p id="modal-description"></p>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Variables for university display
            let allUniversities = [];
            let displayedCount = 0;
            
            // Tab switching functionality
            const tabs = document.querySelectorAll('.tab');
            const tabPanes = document.querySelectorAll('.tab-pane');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Activate clicked tab
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show corresponding tab pane
                    tabPanes.forEach(pane => {
                        pane.classList.remove('active');
                        if (pane.id === tabId) {
                            pane.classList.add('active');
                        }
                    });
                    
                    // If going to saved tab, load saved universities
                    if (tabId === 'saved') {
                        loadSavedUniversities();
                    }
                });
            });
            
            // Next/Previous button functionality
            const nextButtons = document.querySelectorAll('.btn-next');
            const prevButtons = document.querySelectorAll('.btn-prev');
            
            nextButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const nextTab = this.getAttribute('data-next');
                    document.querySelector(`.tab[data-tab="${nextTab}"]`).click();
                    
                    // If going to results tab, generate university recommendations
                    if (nextTab === 'results') {
                        generateUniversityRecommendations();
                    }
                });
            });
            
            prevButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const prevTab = this.getAttribute('data-prev');
                    document.querySelector(`.tab[data-tab="${prevTab}"]`).click();
                });
            });
            
            // Range input display for budget
            const budgetRange = document.getElementById('budget');
            const budgetValue = document.getElementById('budget-value');
            
            budgetRange.addEventListener('input', function() {
                budgetValue.textContent = 'MYR ' + Number(this.value).toLocaleString();
            });
            
            // Add subject button with dropdown selection
            document.getElementById('add-subject').addEventListener('click', function() {
                const subjectSelect = document.getElementById('additional-subjects');
                const selectedSubject = subjectSelect.value;
                const subjectName = subjectSelect.options[subjectSelect.selectedIndex].text;
                
                if (!selectedSubject) {
                    alert('Please select a subject first');
                    return;
                }
                
                // Check if subject already exists
                const existingSubjects = document.querySelectorAll('.spm-subject');
                for (let subject of existingSubjects) {
                    if (subject.querySelector('.subject-name').textContent === subjectName) {
                        alert('This subject has already been added');
                        return;
                    }
                }
                
                const subjectsContainer = document.getElementById('spm-subjects-container');
                const newSubject = document.createElement('div');
                newSubject.className = 'spm-subject';
                newSubject.innerHTML = `
                    <span class="subject-name">${subjectName}</span>
                    <select class="spm-grade">
                        <option value="">Select grade</option>
                        <option value="A+">A+</option>
                        <option value="A">A</option>
                        <option value="A-">A-</option>
                        <option value="B+">B+</option>
                        <option value="B">B</option>
                        <option value="C+">C+</option>
                        <option value="C">C</option>
                        <option value="D">D</option>
                        <option value="E">E</option>
                        <option value="G">G</option>
                    </select>
                    <button class="remove-subject" style="background: #dc3545; color: white; border: none; border-radius: 4px; padding: 5px 10px; margin-top: 5px; cursor: pointer;">Remove</button>
                `;
                
                subjectsContainer.appendChild(newSubject);
                
                // Add event listener to remove button
                newSubject.querySelector('.remove-subject').addEventListener('click', function() {
                    subjectsContainer.removeChild(newSubject);
                });
                
                // Reset the select
                subjectSelect.value = '';
            });
            
            // Generate university recommendations (including overseas)
            function generateUniversityRecommendations() {
                const resultsContainer = document.querySelector('.results-container');
                resultsContainer.innerHTML = '';
                
                // Reset display count
                displayedCount = 0;
                
                // Simulate loading
                const progressBar = document.getElementById('results-progress');
                let width = 0;
                const loading = setInterval(() => {
                    if (width >= 100) {
                        clearInterval(loading);
                    } else {
                        width++;
                        progressBar.style.width = width + '%';
                    }
                }, 20);
                
                allUniversities = [
                    {
                        name: 'University of Malaya (UM)',
                        location: 'Kuala Lumpur, Malaysia',
                        type: 'Public',
                        programs: 'Medicine, Engineering, Business',
                        requirements: 'Matriculation: CGPA 3.8+, STPM: CGPA 3.7+',
                        match: 92,
                        tuition: 'MYR 5,000 - 10,000',
                        intake: 'February, September',
                        deadline: 'October (Feb intake), April (Sept intake)',
                        website: 'https://www.um.edu.my',
                        contact: '+603-7967 3000',
                        email: 'info@um.edu.my',
                        socialMedia: {
                            facebook: 'https://www.facebook.com/UniversityofMalaya',
                            twitter: 'https://twitter.com/umdesk',
                            instagram: 'https://www.instagram.com/umdesk/',
                            linkedin: 'https://www.linkedin.com/school/university-of-malaya/'
                        },
                        achievements: [
                            'Ranked 1st in Malaysia',
                            'Ranked 59th in Asia (QS Asia University Rankings 2021)',
                            'Ranked 70th in the world for Engineering and Technology'
                        ],
                        professors: [
                            {
                                name: 'Prof. Dr. Adeeba Kamarulzaman',
                                field: 'Medicine',
                                socialMedia: {
                                    twitter: 'https://twitter.com/AdeebaKamarulza',
                                    linkedin: 'https://www.linkedin.com/in/adeeba-kamarulzaman-0b1b0b1b0/'
                                }
                            },
                            {
                                name: 'Prof. Dr. Wan Ahmad Kamil Mahmood',
                                field: 'Science',
                                socialMedia: {
                                    twitter: 'https://twitter.com/wakamilm',
                                    researchgate: 'https://www.researchgate.net/profile/Wan-Ahmad-Kamil-Mahmood'
                                }
                            }
                        ],
                        description: 'The University of Malaya is Malaysia\'s oldest and most prestigious university. It offers a wide range of programs and is consistently ranked among the top universities in Asia.'
                    },
                    {
                        name: 'Universiti Teknologi Malaysia (UTM)',
                        location: 'Johor Bahru, Malaysia',
                        type: 'Public',
                        programs: 'Engineering, Computing, Science',
                        requirements: 'Matriculation: CGPA 3.5+, STPM: CGPA 3.3+',
                        match: 86,
                        tuition: 'MYR 6,000 - 12,000',
                        intake: 'February, September',
                        deadline: 'October (Feb intake), April (Sept intake)',
                        website: 'https://www.utm.my',
                        contact: '+607-553 3333',
                        email: 'international@utm.my',
                        socialMedia: {
                            facebook: 'https://www.facebook.com/UTMOfficial',
                            twitter: 'https://twitter.com/UTMOfficial',
                            instagram: 'https://www.instagram.com/utmofficial/',
                            youtube: 'https://www.youtube.com/user/utmofficial'
                        },
                        achievements: [
                            'Ranked 1st in Malaysia for Engineering & Technology',
                            'Ranked 187th in QS World University Rankings 2022',
                            '5 QS Stars rating for teaching, facilities and innovation'
                        ],
                        professors: [
                            {
                                name: 'Prof. Dr. Wahid bin Omar',
                                field: 'Engineering',
                                socialMedia: {
                                    linkedin: 'https://www.linkedin.com/in/wahid-omar-12345678/',
                                    researchgate: 'https://www.researchgate.net/profile/Wahid-Omar'
                                }
                            },
                            {
                                name: 'Prof. Dr. Roseleena Jaafar',
                                field: 'Computing',
                                socialMedia: {
                                    twitter: 'https://twitter.com/roseleenajaafar',
                                    linkedin: 'https://www.linkedin.com/in/roseleena-jaafar-87654321/'
                                }
                            }
                        ],
                        description: 'UTM is a leading innovation-driven research university in engineering, science and technology. It is located in strategic locations both in Kuala Lumpur and Johor Bahru.'
                    },
                    {
                        name: 'Taylor\'s University',
                        location: 'Subang Jaya, Malaysia',
                        type: 'Private',
                        programs: 'Business, Computing, Hospitality',
                        requirements: 'SPM: 5 credits, Foundation: CGPA 3.0+',
                        match: 78,
                        tuition: 'MYR 25,000 - 35,000',
                        intake: 'January, March, August',
                        deadline: '2 months before intake',
                        website: 'https://university.taylors.edu.my',
                        contact: '+603-5629 5000',
                        email: 'admissions@taylors.edu.my',
                        socialMedia: {
                            facebook: 'https://www.facebook.com/taylorsuniversity',
                            twitter: 'https://twitter.com/taylorsuni',
                            instagram: 'https://www.instagram.com/taylorsuniversity/',
                            youtube: 'https://www.youtube.com/user/TaylorsUniversity'
                        },
                        achievements: [
                            'Ranked 1st in Malaysia and 284th in the world (QS World University Rankings 2022)',
                            '5 QS Stars rating for teaching, employability, facilities and internationalization',
                            'Rated Tier 5: Excellent University in SETARA ratings'
                        ],
                        professors: [
                            {
                                name: 'Prof. Dr. Pradeep Nair',
                                field: 'Media & Communication',
                                socialMedia: {
                                    twitter: 'https://twitter.com/pradeepnair',
                                    linkedin: 'https://www.linkedin.com/in/pradeep-nair-12345678/'
                                }
                            },
                            {
                                name: 'Prof. Dr. Neethiahnanthan Ari Ragavan',
                                field: 'Hospitality & Tourism',
                                socialMedia: {
                                    linkedin: 'https://www.linkedin.com/in/neethiahnanthan-ari-ragavan-87654321/',
                                    researchgate: 'https://www.researchgate.net/profile/Neethiahnanthan-Ari-Ragavan'
                                }
                            }
                        ],
                        description: 'Taylor\'s University is one of Malaysia\'s most successful private universities, known for its excellent facilities and strong industry connections.'
                    },
                    {
                        name: 'National University of Singapore (NUS)',
                        location: 'Singapore',
                        type: 'Public',
                        programs: 'Multiple disciplines',
                        requirements: 'STPM: CGPA 3.8+, A-Levels: 3A*',
                        match: 85,
                        tuition: 'SGD 17,000 - 50,000',
                        intake: 'August',
                        deadline: 'February/March',
                        website: 'https://www.nus.edu.sg',
                        contact: '+65 6516 6666',
                        email: 'engquiry@nus.edu.sg',
                        socialMedia: {
                            facebook: 'https://www.facebook.com/nus.sg',
                            twitter: 'https://twitter.com/NUSingapore',
                            instagram: 'https://www.instagram.com/nus_singapore/',
                            linkedin: 'https://www.linkedin.com/school/national-university-of-singapore/'
                        },
                        achievements: [
                            'Ranked 1st in Asia and 11th in the world (QS World University Rankings 2022)',
                            'Top 10 in the world for Engineering & Technology',
                            'Over 37,000 students from 100+ countries'
                        ],
                        professors: [
                            {
                                name: 'Prof. Shih Choon Fong',
                                field: 'Engineering',
                                socialMedia: {
                                    linkedin: 'https://www.linkedin.com/in/shih-choong-fong-12345678/',
                                    researchgate: 'https://www.researchgate.net/profile/Shih-Choon-Fong'
                                }
                            },
                            {
                                name: 'Prof. Tommy Koh',
                                field: 'Law',
                                socialMedia: {
                                    twitter: 'https://twitter.com/AmbTommyKoh',
                                    linkedin: 'https://www.linkedin.com/in/tommy-koh-87654321/'
                                }
                            }
                        ],
                        description: 'The National University of Singapore is a leading global university centered in Asia. It offers a global approach to education and research with a focus on Asian perspectives and expertise.',
                        overseas: true
                    },
                    {
                        name: 'University of Melbourne',
                        location: 'Melbourne, Australia',
                        type: 'Public',
                        programs: 'Medicine, Business, Arts',
                        requirements: 'STPM: CGPA 3.5+, Foundation: 85%+',
                        match: 82,
                        tuition: 'AUD 30,000 - 45,000',
                        intake: 'February, July',
                        deadline: 'October (Feb intake), April (July intake)',
                        website: 'https://www.unimelb.edu.au',
                        contact: '+61 3 9035 5511',
                        email: 'admissions@unimelb.edu.au',
                        socialMedia: {
                            facebook: 'https://www.facebook.com/unimelb',
                            twitter: 'https://twitter.com/unimelb',
                            instagram: 'https://www.instagram.com/unimelb/',
                            youtube: 'https://www.youtube.com/user/unimelb'
                        },
                        achievements: [
                            'Ranked 1st in Australia and 33rd in the world (QS World University Rankings 2022)',
                            'Ranked 8th globally for graduate employability',
                            '15 subject areas in the world\'s top 20 (QS Subject Rankings 2021)'
                        ],
                        professors: [
                            {
                                name: 'Prof. Duncan Maskell',
                                field: 'Microbiology',
                                socialMedia: {
                                    twitter: 'https://twitter.com/DuncanMaskell',
                                    linkedin: 'https://www.linkedin.com/in/duncan-maskell-12345678/'
                                }
                            },
                            {
                                name: 'Prof. Marcia Langton',
                                field: 'Indigenous Studies',
                                socialMedia: {
                                    twitter: 'https://twitter.com/marcia-langton',
                                    linkedin: 'https://www.linkedin.com/in/marcia-langton-87654321/'
                                }
                            }
                        ],
                        description: 'The University of Melbourne is a public research university located in Melbourne, Australia. Founded in 1853, it is Australia\'s second oldest university and the oldest in Victoria.',
                        overseas: true
                    },
                    {
                        name: 'Monash University Malaysia',
                        location: 'Bandar Sunway, Malaysia',
                        type: 'Private',
                        programs: 'Medicine, Science, Business',
                        requirements: 'SPM: 5 credits, A-Levels: 3 passes',
                        match: 85,
                        tuition: 'MYR 28,000 - 40,000',
                        intake: 'February, July, October',
                        deadline: '1 month before intake',
                        website: 'https://www.monash.edu.my',
                        contact: '+603-5514 6000',
                        email: 'info@monash.edu.my',
                        socialMedia: {
                            facebook: 'https://www.facebook.com/monashmalaysia',
                            twitter: 'https://twitter.com/monashmalaysia',
                            instagram: 'https://www.instagram.com/monashmalaysia/',
                            youtube: 'https://www.youtube.com/user/monashmalaysia'
                        },
                        achievements: [
                            'First foreign university campus in Malaysia',
                            'Ranked 55th in the world (QS World University Rankings 2022)',
                            'Top 100 worldwide for Pharmacy, Education, and Engineering'
                        ],
                        professors: [
                            {
                                name: 'Prof. Andrew Walker',
                                field: 'Social Sciences',
                                socialMedia: {
                                    twitter: 'https://twitter.com/andrewwalker',
                                    linkedin: 'https://www.linkedin.com/in/andrew-walker-12345678/'
                                }
                            },
                            {
                                name: 'Prof. Maude Phipps',
                                field: 'Medicine',
                                socialMedia: {
                                    linkedin: 'https://www.linkedin.com/in/maude-phipps-87654321/',
                                    researchgate: 'https://www.researchgate.net/profile/Maude-Phipps'
                                }
                            }
                        ],
                        description: 'Monash University Malaysia is a campus of Monash University, Australia. It provides students with the opportunity to obtain a prestigious Monash degree while studying in Malaysia.'
                    }
                ];
                
                // Display first 2 universities
                displayMoreUniversities(2);
                
                // Show the "Show More" button if there are more universities to display
                if (allUniversities.length > displayedCount) {
                    document.getElementById('show-more-container').style.display = 'block';
                }
            }
            
            // Display more universities
            function displayMoreUniversities(count) {
                const resultsContainer = document.querySelector('.results-container');
                const startIndex = displayedCount;
                const endIndex = Math.min(displayedCount + count, allUniversities.length);
                
                for (let i = startIndex; i < endIndex; i++) {
                    const uni = allUniversities[i];
                    const card = createUniversityCard(uni);
                    resultsContainer.appendChild(card);
                    displayedCount++;
                }
                
                // Hide the "Show More" button if all universities are displayed
                if (displayedCount >= allUniversities.length) {
                    document.getElementById('show-more-container').style.display = 'none';
                }
            }
            
            // Create university card element
            function createUniversityCard(uni) {
                const card = document.createElement('div');
                card.className = 'university-card';
                card.dataset.university = JSON.stringify(uni);
                
                const colors = [
                    'linear-gradient(to right, #3494E6, #EC6EAD)',
                    'linear-gradient(to right, #00c6ff, #0072ff)',
                    'linear-gradient(to right, #f46b45, #eea849)',
                    'linear-gradient(to right, #5f2c82, #49a09d)',
                    'linear-gradient(to right, #c02425, #f0cb35)',
                    'linear-gradient(to right, #136a8a, #267871)'
                ];
                
                const colorIndex = Math.abs(uni.name.split('').reduce((a, b) => {
                    a = ((a << 5) - a) + b.charCodeAt(0);
                    return a & a;
                }, 0)) % colors.length;
                
                const overseasBadge = uni.overseas ? '<span class="match-score" style="background: #28a745;">Overseas</span>' : '';
                
                // Check if university is already saved
                let savedUniversities = JSON.parse(localStorage.getItem('savedUniversities')) || [];
                const isSaved = savedUniversities.some(savedUni => savedUni.name === uni.name);
                
                const saveButtonText = isSaved ? 'University Saved!' : 'Save University';
                const saveButtonClass = isSaved ? 'btn-saved' : 'btn-save';
                
                card.innerHTML = `
                    <div class="university-img" style="background: ${colors[colorIndex]}">
                        ${uni.name}
                    </div>
                    <div class="university-content">
                        <h3>${uni.name} ${overseasBadge}</h3>
                        <div class="university-detail">
                            <span>Location:</span>
                            <span>${uni.location}</span>
                        </div>
                        <div class="university-detail">
                            <span>Type:</span>
                            <span>${uni.type}</span>
                        </div>
                        <div class="university-detail">
                            <span>Programs:</span>
                            <span>${uni.programs}</span>
                        </div>
                        <div class="match-score">Match: ${uni.match}%</div>
                        <button class="btn ${saveButtonClass} save-university-btn" style="margin-top: 15px;" data-saved="${isSaved}">
                            <i class="fas fa-bookmark"></i> ${saveButtonText}
                        </button>
                    </div>
                `;
                
                // Add click event to show university details
                card.addEventListener('click', function(e) {
                    if (!e.target.classList.contains('save-university-btn') && 
                        !e.target.parentElement.classList.contains('save-university-btn')) {
                        showUniversityDetails(uni);
                    }
                });
                
                // Add event listener to save button
                const saveBtn = card.querySelector('.save-university-btn');
                saveBtn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    saveUniversity(uni, saveBtn);
                });
                
                return card;
            }
            
            // Show university details in modal
            function showUniversityDetails(university) {
                const modal = document.getElementById('university-modal');
                document.getElementById('modal-university-name').textContent = university.name;
                document.getElementById('modal-match-score').textContent = `Match: ${university.match}%`;
                document.getElementById('modal-location').textContent = university.location;
                document.getElementById('modal-type').textContent = university.type;
                document.getElementById('modal-programs').textContent = university.programs;
                document.getElementById('modal-contact').textContent = university.contact || 'Not available';
                document.getElementById('modal-email').textContent = university.email || 'Not available';
                document.getElementById('modal-requirements').textContent = university.requirements;
                document.getElementById('modal-tuition').textContent = university.tuition || 'Not available';
                document.getElementById('modal-intake').textContent = university.intake || 'Not available';
                document.getElementById('modal-deadline').textContent = university.deadline || 'Not available';
                
                // Make website clickable
                const websiteElement = document.getElementById('modal-website');
                if (university.website && university.website !== 'Not available') {
                    websiteElement.innerHTML = `<a href="${university.website}" target="_blank" class="modal-website-link">${university.website}</a>`;
                } else {
                    websiteElement.textContent = 'Not available';
                }
                
                // Add social media links
                const socialMediaContainer = document.getElementById('modal-social');
                socialMediaContainer.innerHTML = '';
                
                if (university.socialMedia) {
                    for (const [platform, url] of Object.entries(university.socialMedia)) {
                        const iconClass = platform === 'facebook' ? 'fab fa-facebook-f' :
                                         platform === 'twitter' ? 'fab fa-twitter' :
                                         platform === 'instagram' ? 'fab fa-instagram' :
                                         platform === 'youtube' ? 'fab fa-youtube' :
                                         platform === 'linkedin' ? 'fab fa-linkedin-in' :
                                         platform === 'researchgate' ? 'fab fa-researchgate' : 'fas fa-share-alt';
                        
                        const socialIcon = document.createElement('a');
                        socialIcon.href = url;
                        socialIcon.target = '_blank';
                        socialIcon.className = 'social-icon';
                        socialIcon.innerHTML = `<i class="${iconClass}"></i>`;
                        socialMediaContainer.appendChild(socialIcon);
                    }
                } else {
                    socialMediaContainer.innerHTML = 'Not available';
                }
                
                // Add achievements
                const achievementsContainer = document.getElementById('modal-achievements');
                achievementsContainer.innerHTML = '';
                
                if (university.achievements && university.achievements.length > 0) {
                    university.achievements.forEach(achievement => {
                        const li = document.createElement('li');
                        li.className = 'achievement-item';
                        li.textContent = achievement;
                        achievementsContainer.appendChild(li);
                    });
                } else {
                    achievementsContainer.innerHTML = 'No achievements listed';
                }
                
                // Add professors
                const professorsContainer = document.getElementById('modal-professors');
                professorsContainer.innerHTML = '';
                
                if (university.professors && university.professors.length > 0) {
                    university.professors.forEach(professor => {
                        const profDiv = document.createElement('div');
                        profDiv.className = 'professor-item';
                        
                        let socialHTML = '';
                        if (professor.socialMedia) {
                            for (const [platform, url] of Object.entries(professor.socialMedia)) {
                                const iconClass = platform === 'twitter' ? 'fab fa-twitter' :
                                                platform === 'linkedin' ? 'fab fa-linkedin-in' :
                                                platform === 'researchgate' ? 'fab fa-researchgate' : 'fas fa-share-alt';
                                
                                socialHTML += `<a href="${url}" target="_blank" class="social-icon" style="width: 28px; height: 28px; font-size: 12px;">
                                                <i class="${iconClass}"></i>
                                             </a>`;
                            }
                        }
                        
                        profDiv.innerHTML = `
                            <div class="professor-name">${professor.name}</div>
                            <div class="professor-field">${professor.field}</div>
                            <div class="social-media">${socialHTML || 'No social media available'}</div>
                        `;
                        professorsContainer.appendChild(profDiv);
                    });
                } else {
                    professorsContainer.innerHTML = 'No professor information available';
                }
                
                document.getElementById('modal-description').textContent = university.description || 'No description available';
                
                // Update save button in modal
                let savedUniversities = JSON.parse(localStorage.getItem('savedUniversities')) || [];
                const isSaved = savedUniversities.some(savedUni => savedUni.name === university.name);
                
                const saveButtonText = isSaved ? 'University Saved!' : 'Save University';
                const saveButtonClass = isSaved ? 'btn-saved' : 'btn-save';
                
                // Remove existing save button if it exists
                const existingSaveButton = document.getElementById('modal-save-btn');
                if (existingSaveButton) {
                    existingSaveButton.remove();
                }
                
                // Add save button to modal
                const saveButton = document.createElement('button');
                saveButton.id = 'modal-save-btn';
                saveButton.className = `btn ${saveButtonClass}`;
                saveButton.innerHTML = `<i class="fas fa-bookmark"></i> ${saveButtonText}`;
                saveButton.style.marginLeft = '10px';
                saveButton.addEventListener('click', function() {
                    saveUniversity(university, saveButton);
                    // Also update the card button if it exists
                    const cardButtons = document.querySelectorAll('.save-university-btn');
                    cardButtons.forEach(btn => {
                        if (btn.closest('.university-card').dataset.university.includes(`"name":"${university.name}"`)) {
                            btn.innerHTML = '<i class="fas fa-bookmark"></i> University Saved!';
                            btn.className = 'btn btn-saved save-university-btn';
                            btn.dataset.saved = 'true';
                        }
                    });
                });
                
                const modalHeader = document.querySelector('.modal-header');
                modalHeader.appendChild(saveButton);
                
                modal.style.display = 'block';
            }
            
            // Save university to localStorage
            function saveUniversity(university, buttonElement) {
                let savedUniversities = JSON.parse(localStorage.getItem('savedUniversities')) || [];
                
                // Check if university is already saved
                const isAlreadySaved = savedUniversities.some(uni => uni.name === university.name);
                
                if (!isAlreadySaved) {
                    savedUniversities.push(university);
                    localStorage.setItem('savedUniversities', JSON.stringify(savedUniversities));
                    
                    // Update button text and style
                    buttonElement.innerHTML = '<i class="fas fa-bookmark"></i> University Saved!';
                    buttonElement.className = 'btn btn-saved save-university-btn';
                    buttonElement.dataset.saved = 'true';
                } else {
                    // Remove from saved list
                    savedUniversities = savedUniversities.filter(uni => uni.name !== university.name);
                    localStorage.setItem('savedUniversities', JSON.stringify(savedUniversities));
                    
                    // Update button text and style
                    buttonElement.innerHTML = '<i class="fas fa-bookmark"></i> Save University';
                    buttonElement.className = 'btn btn-save save-university-btn';
                    buttonElement.dataset.saved = 'false';
                }
            }
            
            // Load saved universities
            function loadSavedUniversities() {
                const savedContainer = document.querySelector('.saved-container');
                const compareOptions = document.getElementById('compare-options');
                savedContainer.innerHTML = '';
                compareOptions.innerHTML = '';
                
                const savedUniversities = JSON.parse(localStorage.getItem('savedUniversities')) || [];
                
                if (savedUniversities.length === 0) {
                    savedContainer.innerHTML = '<p style="grid-column: 1/-1; text-align: center; padding: 40px;">You haven\'t saved any universities yet.</p>';
                    document.getElementById('compare-btn').disabled = true;
                    document.getElementById('clear-saved').disabled = true;
                    return;
                }
                
                document.getElementById('clear-saved').disabled = false;
                
                savedUniversities.forEach(function(uni, index) {
                    // Create university card
                    const card = document.createElement('div');
                    card.className = 'university-card';
                    
                    const colors = [
                        'linear-gradient(to right, #3494E6, #EC6EAD)',
                        'linear-gradient(to right, #00c6ff, #0072ff)',
                        'linear-gradient(to right, #f46b45, #eea849)',
                        'linear-gradient(to right, #5f2c82, #49a09d)',
                        "linear-gradient(to right, #c02425, #f0cb35)",
                        "linear-gradient(to right, #136a8a, #267871)"
                    ];
                    
                    const colorIndex = Math.abs(uni.name.split('').reduce((a, b) => {
                        a = ((a << 5) - a) + b.charCodeAt(0);
                        return a & a;
                    }, 0)) % colors.length;
                    
                    const overseasBadge = uni.overseas ? '<span class="match-score" style="background: #28a745;">Overseas</span>' : '';
                    
                    card.innerHTML = `
                        <div class="university-img" style="background: ${colors[colorIndex]}">
                            ${uni.name}
                        </div>
                        <div class="university-content">
                            <h3>${uni.name} ${overseasBadge}</h3>
                            <div class="university-detail">
                                <span>Location:</span>
                                <span>${uni.location}</span>
                            </div>
                            <div class="university-detail">
                                <span>Type:</span>
                                <span>${uni.type}</span>
                            </div>
                            <div class="university-detail">
                                <span>Programs:</span>
                                <span>${uni.programs}</span>
                            </div>
                            <div class="match-score">Match: ${uni.match}%</div>
                            <button class="btn" style="background: #dc3545; margin-top: 15px;" data-remove-index="${index}">
                                <i class="fas fa-trash"></i> Remove
                            </button>
                        </div>
                    `;
                    
                    // Add click event to show university details
                    card.addEventListener('click', function(e) {
                        if (!e.target.classList.contains('btn') && 
                            !e.target.parentElement.classList.contains('btn')) {
                            showUniversityDetails(uni);
                        }
                    });
                    
                    // Add event listener to remove button
                    const removeBtn = card.querySelector('[data-remove-index]');
                    removeBtn.addEventListener('click', function(e) {
                        e.stopPropagation();
                        removeSavedUniversity(index);
                    });
                    
                    savedContainer.appendChild(card);
                    
                    // Add checkbox for comparison
                    const compareOption = document.createElement('div');
                    compareOption.className = 'compare-checkbox';
                    compareOption.innerHTML = `
                        <input type="checkbox" id="compare-${index}" name="compare" value="${index}">
                        <label for="compare-${index}">${uni.name}</label>
                    `;
                    compareOptions.appendChild(compareOption);
                });
                
                // Add event listener to compare button
                document.getElementById('compare-btn').addEventListener('click', compareUniversities);
                
                // Add event listeners to checkboxes
                const compareCheckboxes = document.querySelectorAll('input[name="compare"]');
                compareCheckboxes.forEach(checkbox => {
                    checkbox.addEventListener('change', function() {
                        const checkedCount = document.querySelectorAll('input[name="compare"]:checked').length;
                        document.getElementById('compare-btn').disabled = checkedCount < 2;
                    });
                });
            }
            
            // Remove saved university
            function removeSavedUniversity(index) {
                let savedUniversities = JSON.parse(localStorage.getItem('savedUniversities')) || [];
                savedUniversities.splice(index, 1);
                localStorage.setItem('savedUniversities', JSON.stringify(savedUniversities));
                loadSavedUniversities();
            }
            
            // Compare selected universities
            function compareUniversities() {
                const checkedBoxes = document.querySelectorAll('input[name="compare"]:checked');
                if (checkedBoxes.length < 2) {
                    alert('Please select at least 2 universities to compare.');
                    return;
                }
                
                const savedUniversities = JSON.parse(localStorage.getItem('savedUniversities')) || [];
                const selectedIndices = Array.from(checkedBoxes).map(cb => parseInt(cb.value));
                const selectedUniversities = selectedIndices.map(i => savedUniversities[i]);
                
                const compareContainer = document.getElementById('compare-container');
                const compareTable = compareContainer.querySelector('.compare-table');
                
                // Clear previous comparison data
                compareTable.querySelector('thead tr').innerHTML = '<th>Criteria</th>';
                compareTable.querySelector('tbody').innerHTML = '';
                
                // Add university headers
                selectedUniversities.forEach(uni => {
                    const th = document.createElement('th');
                    th.textContent = uni.name;
                    compareTable.querySelector('thead tr').appendChild(th);
                });
                
                // Define comparison criteria
                const criteria = [
                    { name: 'Location', key: 'location' },
                    { name: 'Type', key: 'type' },
                    { name: 'Programs', key: 'programs' },
                    { name: 'Requirements', key: 'requirements' },
                    { name: 'Annual Tuition', key: 'tuition' },
                    { name: 'Intake Periods', key: 'intake' },
                    { name: 'Application Deadline', key: 'deadline' },
                    { name: 'Contact', key: 'contact' },
                    { name: 'Email', key: 'email' },
                    { name: 'Website', key: 'website' },
                    { name: 'Match Score', key: 'match', suffix: '%' }
                ];
                
                // Add rows for each criterion
                criteria.forEach(criterion => {
                    const row = document.createElement('tr');
                    const criterionCell = document.createElement('td');
                    criterionCell.textContent = criterion.name;
                    row.appendChild(criterionCell);
                    
                    selectedUniversities.forEach(uni => {
                        const valueCell = document.createElement('td');
                        let value = uni[criterion.key] || 'Not available';
                        valueCell.innerHTML = value + (criterion.suffix || '');
                        row.appendChild(valueCell);
                    });
                    
                    compareTable.querySelector('tbody').appendChild(row);
                });
                
                // Show the comparison container
                compareContainer.style.display = 'block';
            }
            
            // Clear all saved universities
            document.getElementById('clear-saved').addEventListener('click', function() {
                if (confirm('Are you sure you want to clear all saved universities?')) {
                    localStorage.removeItem('savedUniversities');
                    loadSavedUniversities();
                    document.getElementById('compare-container').style.display = 'none';
                }
            });
            
            // Close modal when clicking on X
            document.querySelector('.close-modal').addEventListener('click', function() {
                document.getElementById('university-modal').style.display = 'none';
            });
            
            // Close modal when clicking outside of it
            window.addEventListener('click', function(event) {
                const modal = document.getElementById('university-modal');
                if (event.target === modal) {
                    modal.style.display = 'none';
                }
            });
            
            // Save all results button
            document.getElementById('save-results').addEventListener('click', function() {
                alert('Your results have been saved! We will send them to your email.');
            });
            
            // Show more universities button
            document.getElementById('show-more-btn').addEventListener('click', function() {
                displayMoreUniversities(4);
            });
        });
    </script>
</body>
</html>